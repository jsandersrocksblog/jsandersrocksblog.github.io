---
id: 373
title: 'How To: Send and Expire a Tile Notification from Mobile Services Server Scripts'
date: 2013-03-13T08:48:57-05:00
author: jsanders
layout: post
guid: http://jsandersblog.azurewebsites.net/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/
permalink: /2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/
orig_url:
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
orig_site_id:
  - "8394"
  - "8394"
  - "8394"
  - "8394"
  - "8394"
  - "8394"
  - "8394"
  - "8394"
  - "8394"
orig_post_id:
  - "10402012"
  - "10402012"
  - "10402012"
  - "10402012"
  - "10402012"
  - "10402012"
  - "10402012"
  - "10402012"
  - "10402012"
orig_parent_id:
  - "10402012"
  - "10402012"
  - "10402012"
  - "10402012"
  - "10402012"
  - "10402012"
  - "10402012"
  - "10402012"
  - "10402012"
orig_thread_id:
  - "837740"
  - "837740"
  - "837740"
  - "837740"
  - "837740"
  - "837740"
  - "837740"
  - "837740"
  - "837740"
orig_application_key:
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
orig_post_author_id:
  - "65385"
  - "65385"
  - "65385"
  - "65385"
  - "65385"
  - "65385"
  - "65385"
  - "65385"
  - "65385"
orig_post_author_username:
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
orig_post_author_created:
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
orig_is_approved:
  - "1"
  - "1"
  - "1"
  - "1"
  - "1"
  - "1"
  - "1"
  - "1"
  - "1"
orig_attachment_count:
  - "0"
  - "0"
  - "0"
  - "0"
  - "0"
  - "0"
  - "0"
  - "0"
  - "0"
orig_url_title:
  - http://blogs.msdn.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts.aspx
opengraph_tags:
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta name="twitter:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta name="twitter:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta name="twitter:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta name="twitter:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta name="twitter:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta name="twitter:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta name="twitter:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta name="twitter:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Send and Expire a Tile Notification from Mobile Services Server Scripts" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/03/13/how-to-send-and-expire-a-tile-notification-from-mobile-services-server-scripts/" />
    <meta name="twitter:description" content="We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here: Get started with push notifications in Mobile Services&#160; Push notifications to users by using Mobile Services What is not documented until now is how to expire the notification after..." />
    
categories:
  - Uncategorized
tags:
  - Push Notifications
  - Windows Azure Mobile Services
  - WNS
---
We document how to send push notifications using Mobile Services fairly well.&#160; You can use the wns object and push the notification.&#160; This is documented here:

<a title="http://www.windowsazure.com/en-us/develop/mobile/tutorials/get-started-with-push-dotnet/" href="http://www.windowsazure.com/en-us/develop/mobile/tutorials/get-started-with-push-dotnet/" target="_blank">Get started with push notifications in Mobile Services</a>&#160; 

<a title="http://www.windowsazure.com/en-us/develop/mobile/tutorials/push-notifications-to-users-dotnet/" href="http://www.windowsazure.com/en-us/develop/mobile/tutorials/push-notifications-to-users-dotnet/" target="_blank">Push notifications to users by using Mobile Services</a>

What is not documented until now is how to expire the notification after a certain time period.&#160; This is actually very easy (especially now that I have documented it)!

What you want to do is to pass this header: X-WNS-TTL and the number of Seconds you wish this notification to live.&#160; Here is an example of how to do this:

&#160;

push.wns.sendTileSquareBlock(  
&#160;&#160; item.channel,  
&#160;&#160; { text1: item.id, text2: item.text },  
&#160;&#160; {  
&#160;&#160;&#160;&#160;&#160;&#160; headers: { &#8216;X-WNS-TTL&#8217;: 30 },  
&#160;&#160;&#160;&#160;&#160;&#160; success: function (error, result) {  
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; console.log(error);  
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; console.log(result);  
&#160;&#160;&#160;&#160;&#160;&#160; }  
&#160;&#160; }); 

This example will expire the tile 30 seconds from now.&#160; The key here is that the second object passed now has the _headers_ option specified (<a title="https://github.com/tjanczuk/wns" href="https://github.com/tjanczuk/wns" target="_blank">https://github.com/tjanczuk/wns</a>).

Here is some further documentation on that header: 

<a title="http://msdn.microsoft.com/en-us/library/windows/apps/hh465435.aspx#pncodes_x_wns_ttl" href="http://msdn.microsoft.com/en-us/library/windows/apps/hh465435.aspx#pncodes_x_wns_ttl" target="_blank">Push notification service request and response headers &#8211; X-WNS-TTL</a>

&#160;

Let me know if this helps!