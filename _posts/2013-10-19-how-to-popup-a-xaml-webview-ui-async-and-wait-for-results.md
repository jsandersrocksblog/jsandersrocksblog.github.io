---
id: 193
title: 'How To: Popup a XAML WebView UI async and wait for results'
date: 2013-10-19T12:36:20-05:00
author: jsanders
layout: post
guid: http://jsandersblog.azurewebsites.net/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/
permalink: /2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/
orig_url:
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.microsoft.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
orig_site_id:
  - "8394"
  - "8394"
  - "8394"
  - "8394"
  - "8394"
  - "8394"
  - "8394"
  - "8394"
  - "8394"
orig_post_id:
  - "10458358"
  - "10458358"
  - "10458358"
  - "10458358"
  - "10458358"
  - "10458358"
  - "10458358"
  - "10458358"
  - "10458358"
orig_parent_id:
  - "10458358"
  - "10458358"
  - "10458358"
  - "10458358"
  - "10458358"
  - "10458358"
  - "10458358"
  - "10458358"
  - "10458358"
orig_thread_id:
  - "854841"
  - "854841"
  - "854841"
  - "854841"
  - "854841"
  - "854841"
  - "854841"
  - "854841"
  - "854841"
orig_application_key:
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
orig_post_author_id:
  - "65385"
  - "65385"
  - "65385"
  - "65385"
  - "65385"
  - "65385"
  - "65385"
  - "65385"
  - "65385"
orig_post_author_username:
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
  - jpsanders
orig_post_author_created:
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
  - Jan 18 2007 01:34:53:000PM
orig_is_approved:
  - "1"
  - "1"
  - "1"
  - "1"
  - "1"
  - "1"
  - "1"
  - "1"
  - "1"
orig_attachment_count:
  - "0"
  - "0"
  - "0"
  - "0"
  - "0"
  - "0"
  - "0"
  - "0"
  - "0"
orig_url_title:
  - http://blogs.msdn.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
  - http://blogs.msdn.com/b/jpsanders/archive/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results.aspx
opengraph_tags:
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta name="twitter:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta name="twitter:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta name="twitter:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta name="twitter:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta name="twitter:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta name="twitter:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta name="twitter:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta name="twitter:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    
  - |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta property="og:site_name" content="Http Client Protocol Issues (and other fun stuff I support)" />
    <meta property="og:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How To: Popup a XAML WebView UI async and wait for results" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/jpsanders/2013/10/19/how-to-popup-a-xaml-webview-ui-async-and-wait-for-results/" />
    <meta name="twitter:description" content="I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go! In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to..." />
    
categories:
  - Uncategorized
---
I needed to popup a WebView and wait on an event before continuing.&#160; There really was no illustration on how to do this so here you all go!

In my scenario I wanted to Navigate to a Uri to do some forms authentication and get some cookies loaded.&#160; I knew when I was redirected to a certain Uri the cookie was loaded.&#160; To leverage the WebForms based UI I decided to use the WebView control.&#160; I would navigate to the Uri to authenticate, then when the browser navigates to another know Uri I would close the browser and continue code execution.

WebView.Navigate returns immediately so you cannot await this call.&#160; What you need to do is wait on an event flag then continue execution.

The code is relatively simple and well commented.&#160; The key to awaiting this async is the line of code with the Task.Run call.&#160; This spins off a thread that allows the UI to refresh.&#160; To see the effect, remove the Task.Run and just await the AutoResetEvent.&#160; You will see the UI freezes!

## Code

### Xaml

> <pre class="code"><span style="background: white; color: blue;">&lt;</span><span style="background: white; color: rgb(163, 21, 21);">Page
    </span><span style="background: white; color: red;">x</span><span style="background: white; color: blue;">:</span><span style="background: white; color: red;">Class</span><span style="background: white; color: blue;">="AsyncWebUI.MainPage"
    </span><span style="background: white; color: red;">xmlns</span><span style="background: white; color: blue;">="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    </span><span style="background: white; color: red;">xmlns</span><span style="background: white; color: blue;">:</span><span style="background: white; color: red;">x</span><span style="background: white; color: blue;">="http://schemas.microsoft.com/winfx/2006/xaml"
    </span><span style="background: white; color: red;">xmlns</span><span style="background: white; color: blue;">:</span><span style="background: white; color: red;">local</span><span style="background: white; color: blue;">="using:AsyncWebUI"
    </span><span style="background: white; color: red;">xmlns</span><span style="background: white; color: blue;">:</span><span style="background: white; color: red;">d</span><span style="background: white; color: blue;">="http://schemas.microsoft.com/expression/blend/2008"
    </span><span style="background: white; color: red;">xmlns</span><span style="background: white; color: blue;">:</span><span style="background: white; color: red;">mc</span><span style="background: white; color: blue;">="http://schemas.openxmlformats.org/markup-compatibility/2006"
    </span><span style="background: white; color: red;">mc</span><span style="background: white; color: blue;">:</span><span style="background: white; color: red;">Ignorable</span><span style="background: white; color: blue;">="d"&gt;
    &lt;</span><span style="background: white; color: rgb(163, 21, 21);">Grid  </span><span style="background: white; color: red;">Background</span><span style="background: white; color: blue;">="{</span><span style="background: white; color: rgb(163, 21, 21);">ThemeResource </span><span style="background: white; color: red;">ApplicationPageBackgroundThemeBrush</span><span style="background: white; color: blue;">}" &gt;
        &lt;</span><span style="background: white; color: rgb(163, 21, 21);">TextBlock </span><span style="background: white; color: red;">VerticalAlignment</span><span style="background: white; color: blue;">="Top" </span><span style="background: white; color: red;">HorizontalAlignment</span><span style="background: white; color: blue;">="Left" </span><span style="background: white; color: red;">Margin</span><span style="background: white; color: blue;">="120,28,0,0" <br />            </span><span style="background: white; color: red;">Text</span><span style="background: white; color: blue;">="Wait for Event" </span><span style="background: white; color: red;">FontSize</span><span style="background: white; color: blue;">="60"/&gt;
        &lt;</span><span style="background: white; color: rgb(163, 21, 21);">Grid </span><span style="background: white; color: red;">Margin</span><span style="background: white; color: blue;">="120,100,0,0"&gt;
        &lt;</span><span style="background: white; color: rgb(163, 21, 21);">Grid.RowDefinitions</span><span style="background: white; color: blue;">&gt;
            &lt;</span><span style="background: white; color: rgb(163, 21, 21);">RowDefinition </span><span style="background: white; color: red;">Height</span><span style="background: white; color: blue;">="Auto" /&gt;
            &lt;</span><span style="background: white; color: rgb(163, 21, 21);">RowDefinition </span><span style="background: white; color: red;">Height</span><span style="background: white; color: blue;">="*"/&gt;
        &lt;/</span><span style="background: white; color: rgb(163, 21, 21);">Grid.RowDefinitions</span><span style="background: white; color: blue;">&gt;
        &lt;</span><span style="background: white; color: rgb(163, 21, 21);">StackPanel </span><span style="background: white; color: red;">Orientation</span><span style="background: white; color: blue;">="Horizontal" </span><span style="background: white; color: red;">Margin</span><span style="background: white; color: blue;">="0,10" &gt;
            &lt;</span><span style="background: white; color: rgb(163, 21, 21);">TextBox </span><span style="background: white; color: red;">x</span><span style="background: white; color: blue;">:</span><span style="background: white; color: red;">Name</span><span style="background: white; color: blue;">="theUri" </span><span style="background: white; color: red;">Width</span><span style="background: white; color: blue;">="300" </span><span style="background: white; color: red;">Text</span><span style="background: white; color: blue;">=<a href="http://blogs.msdn.com/wsdevsol">http://blogs.msdn.com/wsdevsol</a><br />                 </span><span style="background: white; color: red;">Margin</span><span style="background: white; color: blue;">="0,5,5,5"&gt;&lt;/</span><span style="background: white; color: rgb(163, 21, 21);">TextBox</span><span style="background: white; color: blue;">&gt;
            &lt;</span><span style="background: white; color: rgb(163, 21, 21);">Button </span><span style="background: white; color: red;">Content</span><span style="background: white; color: blue;">="Navigate" </span><span style="background: white; color: red;">Click</span><span style="background: white; color: blue;">="Button_Click" </span><span style="background: white; color: red;">FontFamily</span><span style="background: white; color: blue;">="Global User Interface" </span><span style="background: white; color: red;">Margin</span><span style="background: white; color: blue;">="5"&gt;<br />            &lt;/</span><span style="background: white; color: rgb(163, 21, 21);">Button</span><span style="background: white; color: blue;">&gt;
                &lt;</span><span style="background: white; color: rgb(163, 21, 21);">TextBlock </span><span style="background: white; color: red;">Text</span><span style="background: white; color: blue;">="Navigate to http://bing.com to close browser" </span><span style="background: white; color: red;">HorizontalAlignment</span><span style="background: white; color: blue;">="Center"<br />                 </span><span style="background: white; color: red;">VerticalAlignment</span><span style="background: white; color: blue;">="Center" </span><span style="background: white; color: red;">Margin</span><span style="background: white; color: blue;">="5,0,0,0"/&gt;
            &lt;/</span><span style="background: white; color: rgb(163, 21, 21);">StackPanel</span><span style="background: white; color: blue;">&gt;
        &lt;</span><span style="background: white; color: rgb(163, 21, 21);">StackPanel </span><span style="background: white; color: red;">x</span><span style="background: white; color: blue;">:</span><span style="background: white; color: red;">Name</span><span style="background: white; color: blue;">="hidePanel" </span><span style="background: white; color: red;">Grid.Row</span><span style="background: white; color: blue;">="1"&gt;
            &lt;</span><span style="background: white; color: rgb(163, 21, 21);">TextBlock </span><span style="background: white; color: red;">Text</span><span style="background: white; color: blue;">="Here is some stuff to hide while navigating" </span><span style="background: white; color: red;">Height</span><span style="background: white; color: blue;">="100"&gt;&lt;/</span><span style="background: white; color: rgb(163, 21, 21);">TextBlock</span><span style="background: white; color: blue;">&gt;
            &lt;</span><span style="background: white; color: rgb(163, 21, 21);">TextBlock </span><span style="background: white; color: red;">Text</span><span style="background: white; color: blue;">="Here is some stuff to hide while navigating" </span><span style="background: white; color: red;">Height</span><span style="background: white; color: blue;">="100"&gt;&lt;/</span><span style="background: white; color: rgb(163, 21, 21);">TextBlock</span><span style="background: white; color: blue;">&gt;
        &lt;/</span><span style="background: white; color: rgb(163, 21, 21);">StackPanel</span><span style="background: white; color: blue;">&gt;
            &lt;</span><span style="background: white; color: rgb(163, 21, 21);">WebView </span><span style="background: white; color: red;">x</span><span style="background: white; color: blue;">:</span><span style="background: white; color: red;">Name</span><span style="background: white; color: blue;">="MyWebView" </span><span style="background: white; color: red;">Grid.Row</span><span style="background: white; color: blue;">="1" </span><span style="background: white; color: red;">Visibility</span><span style="background: white; color: blue;">="Collapsed" <br />              </span><span style="background: white; color: red;">NavigationCompleted</span><span style="background: white; color: blue;">="MyWebView_NavigationCompleted"&gt;&lt;/</span><span style="background: white; color: rgb(163, 21, 21);">WebView</span><span style="background: white; color: blue;">&gt;
        &lt;/</span><span style="background: white; color: rgb(163, 21, 21);">Grid</span><span style="background: white; color: blue;">&gt;
    &lt;/</span><span style="background: white; color: rgb(163, 21, 21);">Grid</span><span style="background: white; color: blue;">&gt;
&lt;/</span><span style="background: white; color: rgb(163, 21, 21);">Page</span><span style="background: white; color: blue;">&gt;
</span></pre>

### C#

<pre class="code"><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">System;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">System.Collections.Generic;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">System.IO;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">System.Linq;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">System.Runtime.InteropServices.WindowsRuntime;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">System.Threading;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">System.Threading.Tasks;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">Windows.Foundation;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">Windows.Foundation.Collections;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">Windows.UI.Xaml;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">Windows.UI.Xaml.Controls;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">Windows.UI.Xaml.Controls.Primitives;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">Windows.UI.Xaml.Data;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">Windows.UI.Xaml.Input;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">Windows.UI.Xaml.Media;
</span><span style="background: white; color: blue;">using </span><span style="background: white; color: black;">Windows.UI.Xaml.Navigation;
</span><span style="background: white; color: blue;">namespace </span><span style="background: white; color: black;">AsyncWebUI
{
    </span><span style="background: white; color: blue;">public sealed partial class </span><span style="background: white; color: rgb(43, 145, 175);">MainPage </span><span style="background: white; color: black;">: </span><span style="background: white; color: rgb(43, 145, 175);">Page
    </span><span style="background: white; color: black;">{
        </span><span style="background: white; color: rgb(43, 145, 175);">AutoResetEvent </span><span style="background: white; color: black;">waitForNavComplete;
        </span><span style="background: white; color: blue;">public </span><span style="background: white; color: black;">MainPage()
        {
            </span><span style="background: white; color: blue;">this</span><span style="background: white; color: black;">.InitializeComponent();
            </span><span style="background: white; color: green;">// Create AutoResetEvent initially not set
            </span><span style="background: white; color: black;">waitForNavComplete = </span><span style="background: white; color: blue;">new </span><span style="background: white; color: rgb(43, 145, 175);">AutoResetEvent</span><span style="background: white; color: black;">(</span><span style="background: white; color: blue;">false</span><span style="background: white; color: black;">);
        }
        </span><span style="background: white; color: gray;">/// &lt;summary&gt;
        /// </span><span style="background: white; color: green;">async so we can wait for somethign before proceeding (whatever that may be)
        </span><span style="background: white; color: gray;">/// &lt;/summary&gt;
        </span><span style="background: white; color: blue;">async private void </span><span style="background: white; color: black;">Button_Click(</span><span style="background: white; color: blue;">object </span><span style="background: white; color: black;">sender, </span><span style="background: white; color: rgb(43, 145, 175);">RoutedEventArgs </span><span style="background: white; color: black;">e)
        {
            </span><span style="background: white; color: green;">// Hide XAML and bring up the WebView
            </span><span style="background: white; color: black;">hidePanel.Visibility = </span><span style="background: white; color: rgb(43, 145, 175);">Visibility</span><span style="background: white; color: black;">.Collapsed;
            MyWebView.Visibility = </span><span style="background: white; color: rgb(43, 145, 175);">Visibility</span><span style="background: white; color: black;">.Visible;
            </span><span style="background: white; color: green;">// Go to the site specified
            </span><span style="background: white; color: black;">MyWebView.Navigate(</span><span style="background: white; color: blue;">new </span><span style="background: white; color: rgb(43, 145, 175);">Uri</span><span style="background: white; color: black;">(theUri.Text));
            </span><span style="background: white; color: green;">// Wait for this AutoResetEvent to be Set
            // If you just did the Wait the WebView would not come up and the UI would freeze
            </span><span style="background: white; color: blue;">await </span><span style="background: white; color: rgb(43, 145, 175);">Task</span><span style="background: white; color: black;">.Run(() =&gt; { waitForNavComplete.WaitOne(); });
            </span><span style="background: white; color: green;">// Reset the event (unset it)
            </span><span style="background: white; color: black;">waitForNavComplete.Reset();
            </span><span style="background: white; color: green;">// Swap back the UI
            </span><span style="background: white; color: black;">MyWebView.Visibility = </span><span style="background: white; color: rgb(43, 145, 175);">Visibility</span><span style="background: white; color: black;">.Collapsed;
            hidePanel.Visibility = </span><span style="background: white; color: rgb(43, 145, 175);">Visibility</span><span style="background: white; color: black;">.Visible;
        }
        </span><span style="background: white; color: blue;">void </span><span style="background: white; color: black;">MyWebView_NavigationCompleted(</span><span style="background: white; color: rgb(43, 145, 175);">WebView </span><span style="background: white; color: black;">sender, </span><span style="background: white; color: rgb(43, 145, 175);">WebViewNavigationCompletedEventArgs </span><span style="background: white; color: black;">args)
        {
            </span><span style="background: white; color: green;">// I am waiting for a specific Uri.  When I see it...
            </span><span style="background: white; color: blue;">if </span><span style="background: white; color: black;">(args.Uri == </span><span style="background: white; color: blue;">new </span><span style="background: white; color: rgb(43, 145, 175);">Uri</span><span style="background: white; color: black;">(</span><span style="background: white; color: rgb(163, 21, 21);">"http://www.bing.com"</span><span style="background: white; color: black;">))
            {
                </span><span style="background: white; color: green;">// Reset the event so we close the browser and bring up the old XAML
                </span><span style="background: white; color: black;">waitForNavComplete.Set();
            }
        }
    }
}
</span></pre>

# Summary

So it is fairly easy to do this.&#160; The trick is really in the <span style="background: white; color: green;"></span><span style="background: white; color: blue;">await </span><span style="background: white; color: rgb(43, 145, 175);">Task</span><span style="background: white; color: black;">.Run(() =>&#160;&#160; call.&#160; Please drop me a line if you find this useful!</span>